{"ast":null,"code":"var assert = require('./assert');\nvar isFunction = require('./isFunction');\nvar isType = require('./isType');\nvar Any = require('./Any');\nmodule.exports = function match(x) {\n  var type, guard, f, count;\n  for (var i = 1, len = arguments.length; i < len;) {\n    type = arguments[i];\n    guard = arguments[i + 1];\n    f = arguments[i + 2];\n    if (isFunction(f) && !isType(f)) {\n      i = i + 3;\n    } else {\n      f = guard;\n      guard = Any.is;\n      i = i + 2;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      count = (count || 0) + 1;\n      assert(isType(type), function () {\n        return 'Invalid type in clause #' + count;\n      });\n      assert(isFunction(guard), function () {\n        return 'Invalid guard in clause #' + count;\n      });\n      assert(isFunction(f), function () {\n        return 'Invalid block in clause #' + count;\n      });\n    }\n    if (type.is(x) && guard(x)) {\n      return f(x);\n    }\n  }\n  assert.fail('Match error');\n};","map":null,"metadata":{},"sourceType":"script"}