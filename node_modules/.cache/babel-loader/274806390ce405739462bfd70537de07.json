{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/atomic/molecules/DatePicker.js\",\n  _templateObject,\n  _templateObject2;\nimport React from 'react';\nimport styled from 'styled-components';\nimport ErrorMessage from '../atoms/ErrorMessage';\nimport PropTypes from 'prop-types';\nimport Label from '../atoms/Label';\nimport { DatePickerInput, DatePicker as RcDatePicker } from 'rc-datepicker';\nimport Input from '../atoms/Input';\nimport 'rc-datepicker/lib/style.css';\nimport { withI18n } from '@lingui/react';\nimport dayjs from 'dayjs';\nimport { dateFormatter } from '../../services/inputFormatters/index';\nvar DatePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(DatePicker, _React$Component);\n  var _super = _createSuper(DatePicker);\n  function DatePicker(props) {\n    var _this;\n    _classCallCheck(this, DatePicker);\n    _this = _super.call(this, props);\n    _this.state = {\n      showCalendar: false,\n      inputValue: '',\n      calendarValue: null\n    };\n    _this.showCalendar = function (showCalendar) {\n      return _this.setState({\n        showCalendar: showCalendar\n      });\n    };\n    _this.formatDate = function (date) {\n      return !date || date.length === 0 ? '' : dayjs(date).format('MM/DD/YYYY');\n    };\n    _this.handleCalendarChange = function (jsDate, dateString) {\n      _this.showCalendar(false);\n      var _this$props = _this.props,\n        i18n = _this$props.i18n,\n        handleChange = _this$props.handleChange;\n      var inputValue = _this.formatDate(jsDate);\n      var formValue = dayjs(jsDate).toISOString();\n      _this.setState({\n        inputValue: inputValue,\n        calendarValue: inputValue\n      });\n      handleChange(formValue);\n    };\n    _this.handleInputChange = function (e) {\n      var inputValue = e.target.value;\n      var jsDate = dayjs(inputValue);\n      _this.setState({\n        inputValue: inputValue\n      });\n      if (jsDate.isValid()) {\n        var formValue = jsDate.toISOString();\n        _this.setState({\n          calendarValue: formValue\n        });\n        _this.props.handleChange(formValue);\n      } else {\n        _this.props.handleChange('');\n      }\n    };\n    _this.handleClickOnWindow = function (e) {\n      if (!_this.state.showCalendar || _this.calendarRef.current.contains(e.target) || _this.inputRef.current.contains(e.target)) return;\n      _this.showCalendar(false);\n    };\n    _this.calendarRef = React.createRef();\n    _this.inputRef = React.createRef();\n    return _this;\n  }\n  _createClass(DatePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var value = this.props.value;\n      var inputValue = this.formatDate(value);\n      this.setState({\n        inputValue: inputValue,\n        calendarValue: value\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      document.addEventListener('mousedown', this.handleClickOnWindow, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handleClickOnWindow, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        name = _this$props2.name,\n        error = _this$props2.error,\n        value = _this$props2.value,\n        handleChange = _this$props2.handleChange,\n        handleBlur = _this$props2.handleBlur,\n        placeholder = _this$props2.placeholder,\n        _this$props2$label = _this$props2.label,\n        label = _this$props2$label === void 0 ? null : _this$props2$label,\n        _this$props2$withMarg = _this$props2.withMargin,\n        withMargin = _this$props2$withMarg === void 0 ? false : _this$props2$withMarg;\n      var _this$state = this.state,\n        inputValue = _this$state.inputValue,\n        calendarValue = _this$state.calendarValue,\n        showCalendar = _this$state.showCalendar;\n      return /*#__PURE__*/React.createElement(Wrapper, {\n        withMargin: withMargin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }\n      }, label && /*#__PURE__*/React.createElement(Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }\n      }, label), /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.inputRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        name: name,\n        value: inputValue,\n        error: error,\n        handleFocus: function handleFocus() {\n          return _this2.showCalendar(true);\n        },\n        handleBlur: handleBlur,\n        handleChange: this.handleInputChange\n        // formatOptions={dateFormatter}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      })), showCalendar && /*#__PURE__*/React.createElement(DatePickerWrapper, {\n        ref: this.calendarRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(RcDatePicker, {\n        onChange: this.handleCalendarChange,\n        value: calendarValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n  return DatePicker;\n}(React.Component);\nvar DatePickerWrapper = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: calc(100% - 1.5rem);\\n  left: 0;\\n  z-index: 900;\\n\"])));\nvar Wrapper = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  position: relative;\\n  flex-direction: column;\\n  width: 100%;\\n  margin-right: \", \";\\n\"])), function (_ref) {\n  var withMargin = _ref.withMargin;\n  return withMargin && '2rem';\n});\nDatePicker.propTypes = {\n  name: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  textarea: PropTypes.bool,\n  small: PropTypes.bool,\n  long: PropTypes.bool,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  handleChange: PropTypes.func.isRequired,\n  handleBlur: PropTypes.func.isRequired\n};\nexport default withI18n()(DatePicker);","map":{"version":3,"names":["React","styled","ErrorMessage","PropTypes","Label","DatePickerInput","DatePicker","RcDatePicker","Input","withI18n","dayjs","dateFormatter","props","state","showCalendar","inputValue","calendarValue","setState","formatDate","date","length","format","handleCalendarChange","jsDate","dateString","i18n","handleChange","formValue","toISOString","handleInputChange","e","target","value","isValid","handleClickOnWindow","calendarRef","current","contains","inputRef","createRef","document","addEventListener","removeEventListener","name","error","handleBlur","placeholder","label","withMargin","Component","DatePickerWrapper","div","Wrapper","propTypes","string","isRequired","textarea","bool","small","long","func"],"sources":["/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/atomic/molecules/DatePicker.js"],"sourcesContent":["import React from 'react'\n\nimport styled from 'styled-components'\nimport ErrorMessage from '../atoms/ErrorMessage'\nimport PropTypes from 'prop-types'\nimport Label from '../atoms/Label'\nimport { DatePickerInput, DatePicker as RcDatePicker } from 'rc-datepicker'\nimport Input from '../atoms/Input'\nimport 'rc-datepicker/lib/style.css'\nimport { t } from '@lingui/macro'\nimport { withI18n } from '@lingui/react'\nimport dayjs from 'dayjs'\nimport { dateFormatter } from '../../services/inputFormatters/index'\n\nclass DatePicker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.calendarRef = React.createRef()\n    this.inputRef = React.createRef()\n  }\n\n  state = {\n    showCalendar: false,\n    inputValue: '',\n    calendarValue: null\n  }\n\n  componentDidMount() {\n    const { value } = this.props\n    const inputValue = this.formatDate(value)\n    this.setState({ inputValue, calendarValue: value })\n  }\n\n  showCalendar = showCalendar => this.setState({ showCalendar })\n\n  formatDate = date =>\n    !date || date.length === 0 ? '' : dayjs(date).format('MM/DD/YYYY')\n\n  handleCalendarChange = (jsDate, dateString) => {\n    this.showCalendar(false)\n\n    const { i18n, handleChange } = this.props\n    const inputValue = this.formatDate(jsDate)\n    const formValue = dayjs(jsDate).toISOString()\n\n    this.setState({ inputValue, calendarValue: inputValue })\n    handleChange(formValue)\n  }\n\n  handleInputChange = e => {\n    const inputValue = e.target.value\n    const jsDate = dayjs(inputValue)\n\n    this.setState({ inputValue })\n\n    if (jsDate.isValid()) {\n      const formValue = jsDate.toISOString()\n\n      this.setState({ calendarValue: formValue })\n      this.props.handleChange(formValue)\n    } else {\n      this.props.handleChange('')\n    }\n  }\n\n  componentWillMount() {\n    document.addEventListener('mousedown', this.handleClickOnWindow, false)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOnWindow, false)\n  }\n\n  handleClickOnWindow = e => {\n    if (\n      !this.state.showCalendar ||\n      this.calendarRef.current.contains(e.target) ||\n      this.inputRef.current.contains(e.target)\n    )\n      return\n\n    this.showCalendar(false)\n  }\n\n  render() {\n    const {\n      name,\n      error,\n      value,\n      handleChange,\n      handleBlur,\n      placeholder,\n      label = null,\n      withMargin = false\n    } = this.props\n\n    const { inputValue, calendarValue, showCalendar } = this.state\n\n    return (\n      <Wrapper withMargin={withMargin}>\n        {label && <Label>{label}</Label>}\n\n        <div ref={this.inputRef}>\n          <Input\n            name={name}\n            value={inputValue}\n            error={error}\n            handleFocus={() => this.showCalendar(true)}\n            handleBlur={handleBlur}\n            handleChange={this.handleInputChange}\n            // formatOptions={dateFormatter}\n          />\n        </div>\n\n        {showCalendar && (\n          <DatePickerWrapper ref={this.calendarRef}>\n            <RcDatePicker\n              onChange={this.handleCalendarChange}\n              value={calendarValue}\n            />\n          </DatePickerWrapper>\n        )}\n      </Wrapper>\n    )\n  }\n}\n\nconst DatePickerWrapper = styled.div`\n  position: absolute;\n  top: calc(100% - 1.5rem);\n  left: 0;\n  z-index: 900;\n`\n\nconst Wrapper = styled.div`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  margin-right: ${({ withMargin }) => withMargin && '2rem'};\n`\n\nDatePicker.propTypes = {\n  name: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  textarea: PropTypes.bool,\n  small: PropTypes.bool,\n  long: PropTypes.bool,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  handleChange: PropTypes.func.isRequired,\n  handleBlur: PropTypes.func.isRequired\n}\n\nexport default withI18n()(DatePicker)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}