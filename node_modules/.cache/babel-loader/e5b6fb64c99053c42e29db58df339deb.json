{"ast":null,"code":"import _toConsumableArray from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport sessionStorageItems from '../../constants/sessionStorageItems';\nimport i18n from '../../locales';\nvar types = {\n  COVER: {\n    width: 70,\n    aspect: 360 / 133,\n    type: 'cover',\n    title: i18n._(\n    /*i18n*/\n    {\n      id: \"Cover Image\"\n    })\n  },\n  AVATAR: {\n    width: 70,\n    aspect: 1 / 1,\n    type: 'avatar',\n    title: i18n._(\n    /*i18n*/\n    {\n      id: \"Avatar Image\"\n    })\n  },\n  MAIN: {\n    width: 70,\n    aspect: 1 / 1,\n    type: 'main',\n    title: i18n._(\n    /*i18n*/\n    {\n      id: \"Main Image\"\n    })\n  },\n  ABOUT: {\n    aspect: 1 / 1,\n    width: 70,\n    type: 'about',\n    title: i18n._(\n    /*i18n*/\n    {\n      id: \"Banner Image\"\n    })\n  },\n  REGULAR: {\n    width: 70,\n    aspect: 16 / 9,\n    type: 'regular',\n    title: i18n._(\n    /*i18n*/\n    {\n      id: \"Image\"\n    })\n  },\n  VIDEO: {\n    type: 'video',\n    title: i18n._(\n    /*i18n*/\n    {\n      id: \"Video\"\n    })\n  }\n};\nexport var getTypeFromAttachment = function getTypeFromAttachment(attachment) {\n  return types[attachment.purpose.toUpperCase()];\n};\nexport var getCover = function getCover(attachments) {\n  return getFromAttachments(attachments, 'cover');\n};\nexport var getAbout = function getAbout(attachments) {\n  return getFromAttachments(attachments, 'about');\n};\nexport var getMain = function getMain(attachments) {\n  return getFromAttachments(attachments, 'main');\n};\nexport var getRegular = function getRegular(attachments) {\n  return attachments.filter(function (attachment) {\n    return attachment.purpose === 'regular';\n  });\n};\nexport var getVideo = function getVideo(attachments) {\n  return getFromAttachments(attachments, 'video');\n};\nexport var getVideoUrl = function getVideoUrl(attachments) {\n  var video = getVideo(attachments);\n  return video && video.video_url;\n};\nexport var getAvatar = function getAvatar(attachments) {\n  return getFromAttachments(attachments, 'avatar');\n};\nexport var getMainImage = function getMainImage(attachments) {\n  var mainImage = getFromAttachments(attachments, 'main');\n  if (mainImage && mainImage.picture_url) return mainImage.picture_url;\n  return getProfilePic(attachments);\n};\nexport var getAvatarPicture = function getAvatarPicture(attachments) {\n  var avatar = getAvatar(attachments);\n  return avatar && avatar.picture_url;\n};\nexport var getForGallery = function getForGallery(attachments, type) {\n  var purposes = {\n    student: ['regular', 'video'],\n    company: ['regular', 'about', 'video'],\n    jobOffer: ['regular', 'video', 'main'],\n    subjectOffer: ['regular', 'video', 'main']\n  };\n  return attachments.filter(function (attachment) {\n    return purposes[type].includes(attachment.purpose);\n  });\n};\nexport var getForCarousel = function getForCarousel(attachments) {\n  return attachments.filter(function (attachment) {\n    return attachment.purpose === 'regular' && attachment.picture_url;\n  }).map(function (attachment) {\n    return attachment.picture_url;\n  });\n};\nvar getFromAttachments = function getFromAttachments(attachments, type) {\n  return attachments && attachments.find(function (_ref) {\n    var purpose = _ref.purpose;\n    return purpose === type;\n  });\n};\nexport var getProfilePic = function getProfilePic(attachments) {\n  var regularPics = getRegular(attachments);\n  var pic = regularPics.find(function (regularPic) {\n    return regularPic.picture_url;\n  });\n  return pic && pic.picture_url;\n};\nexport var usageTypes = Object.freeze({\n  FOR_PROFILE: 'for_profile',\n  FOR_JOB: 'for_job',\n  FOR_SUBJECT: 'for_subject'\n});\nexport var withInitialOrder = function withInitialOrder(attachments, usageType) {\n  switch (usageType) {\n    case usageTypes['FOR_PROFILE']:\n      return [getAbout(attachments)].concat(_toConsumableArray(getRegular(attachments)), [getVideo(attachments), getCover(attachments), getAvatar(attachments)]);\n    case usageTypes['FOR_JOB']:\n      return [getMain(attachments)].concat(_toConsumableArray(getRegular(attachments)), [getVideo(attachments)]);\n    case usageTypes['FOR_SUBJECT']:\n      return [getMain(attachments)].concat(_toConsumableArray(getRegular(attachments)), [getVideo(attachments)]);\n    default:\n      return null;\n  }\n};\nexport default types;","map":{"version":3,"names":["sessionStorageItems","i18n","types","COVER","width","aspect","type","title","_","AVATAR","MAIN","ABOUT","REGULAR","VIDEO","getTypeFromAttachment","attachment","purpose","toUpperCase","getCover","attachments","getFromAttachments","getAbout","getMain","getRegular","filter","getVideo","getVideoUrl","video","video_url","getAvatar","getMainImage","mainImage","picture_url","getProfilePic","getAvatarPicture","avatar","getForGallery","purposes","student","company","jobOffer","subjectOffer","includes","getForCarousel","map","find","regularPics","pic","regularPic","usageTypes","Object","freeze","FOR_PROFILE","FOR_JOB","FOR_SUBJECT","withInitialOrder","usageType"],"sources":["/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/services/attachments/index.js"],"sourcesContent":["import sessionStorageItems from '../../constants/sessionStorageItems'\nimport i18n from '../../locales'\nimport { t } from '@lingui/macro'\n\nconst types = {\n  COVER: {\n    width: 70,\n    aspect: 360 / 133,\n    type: 'cover',\n    title: i18n._(t`Cover Image`)\n  },\n  AVATAR: {\n    width: 70,\n    aspect: 1 / 1,\n    type: 'avatar',\n    title: i18n._(t`Avatar Image`)\n  },\n  MAIN: {\n    width: 70,\n    aspect: 1 / 1,\n    type: 'main',\n    title: i18n._(t`Main Image`)\n  },\n  ABOUT: {\n    aspect: 1 / 1,\n    width: 70,\n    type: 'about',\n    title: i18n._(t`Banner Image`)\n  },\n  REGULAR: {\n    width: 70,\n    aspect: 16 / 9,\n    type: 'regular',\n    title: i18n._(t`Image`)\n  },\n  VIDEO: {\n    type: 'video',\n    title: i18n._(t`Video`)\n  }\n}\n\nexport const getTypeFromAttachment = attachment =>\n  types[attachment.purpose.toUpperCase()]\n\nexport const getCover = attachments => getFromAttachments(attachments, 'cover')\n\nexport const getAbout = attachments => getFromAttachments(attachments, 'about')\n\nexport const getMain = attachments => getFromAttachments(attachments, 'main')\n\nexport const getRegular = attachments =>\n  attachments.filter(attachment => attachment.purpose === 'regular')\n\nexport const getVideo = attachments => getFromAttachments(attachments, 'video')\n\nexport const getVideoUrl = attachments => {\n  const video = getVideo(attachments)\n  return video && video.video_url\n}\n\nexport const getAvatar = attachments =>\n  getFromAttachments(attachments, 'avatar')\n\nexport const getMainImage = attachments => {\n  const mainImage = getFromAttachments(attachments, 'main');\n  if (mainImage && mainImage.picture_url) return mainImage.picture_url;\n  return getProfilePic(attachments);\n}\n\nexport const getAvatarPicture = attachments => {\n  const avatar = getAvatar(attachments)\n  return avatar && avatar.picture_url\n}\n\nexport const getForGallery = (attachments, type) => {\n  const purposes = {\n    student: ['regular', 'video'],\n    company: ['regular', 'about', 'video'],\n    jobOffer: ['regular', 'video', 'main'],\n    subjectOffer: ['regular', 'video', 'main']\n  }\n\n  return attachments.filter(attachment =>\n    purposes[type].includes(attachment.purpose)\n  )\n}\n\nexport const getForCarousel = attachments =>\n  attachments\n    .filter(\n      attachment => attachment.purpose === 'regular' && attachment.picture_url\n    )\n    .map(attachment => attachment.picture_url)\n\nconst getFromAttachments = (attachments, type) =>\n  attachments && attachments.find(({ purpose }) => purpose === type)\n\nexport const getProfilePic = attachments => {\n  const regularPics = getRegular(attachments)\n  const pic = regularPics.find(regularPic => regularPic.picture_url)\n  return pic && pic.picture_url\n}\n\nexport const usageTypes = Object.freeze({\n  FOR_PROFILE: 'for_profile',\n  FOR_JOB: 'for_job',\n  FOR_SUBJECT: 'for_subject'\n})\n\nexport const withInitialOrder = (attachments, usageType) => {\n  switch (usageType) {\n    case usageTypes['FOR_PROFILE']:\n      return [\n        getAbout(attachments),\n        ...getRegular(attachments),\n        getVideo(attachments),\n        getCover(attachments),\n        getAvatar(attachments)\n      ]\n\n    case usageTypes['FOR_JOB']:\n      return [\n        getMain(attachments),\n        ...getRegular(attachments),\n        getVideo(attachments)\n      ]\n\n    case usageTypes['FOR_SUBJECT']:\n      return [\n        getMain(attachments),\n        ...getRegular(attachments),\n        getVideo(attachments)\n      ]\n\n    default:\n      return null\n  }\n}\n\nexport default types\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}