{"ast":null,"code":"import _classCallCheck from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/containers/Logout.js\";\nimport React from 'react';\nimport Logout from '../atomic/atoms/Logout';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logoutSuccess as _logoutSuccess } from '../actions/auth';\nimport PropTypes from 'prop-types';\nimport sessionStorageItems from '../constants/sessionStorageItems';\nvar LogoutContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(LogoutContainer, _React$Component);\n  var _super = _createSuper(LogoutContainer);\n  function LogoutContainer() {\n    var _this;\n    _classCallCheck(this, LogoutContainer);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      redirectToLogin: false\n    };\n    _this.handleLogout = function () {\n      sessionStorage.removeItem(sessionStorageItems.randomAvatarId);\n      sessionStorage.removeItem(sessionStorageItems.userToken);\n      _this.props.logoutSuccess();\n      _this.setState({\n        redirectToLogin: true\n      });\n    };\n    return _this;\n  }\n  _createClass(LogoutContainer, [{\n    key: \"render\",\n    value: function render() {\n      var redirectToLogin = this.state.redirectToLogin;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 7\n        }\n      }, redirectToLogin ? /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }\n      }) : /*#__PURE__*/React.createElement(Logout, {\n        handleLogout: this.handleLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n  return LogoutContainer;\n}(React.Component);\nLogoutContainer.propTypes = {\n  logoutSuccess: PropTypes.func.isRequired\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logoutSuccess: function logoutSuccess() {\n      return dispatch(_logoutSuccess());\n    }\n  };\n};\nexport default connect(null, mapDispatchToProps)(LogoutContainer);","map":{"version":3,"names":["React","Logout","Redirect","connect","logoutSuccess","PropTypes","sessionStorageItems","LogoutContainer","state","redirectToLogin","handleLogout","sessionStorage","removeItem","randomAvatarId","userToken","props","setState","Component","propTypes","func","isRequired","mapDispatchToProps","dispatch"],"sources":["/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/containers/Logout.js"],"sourcesContent":["import React from 'react'\nimport Logout from '../atomic/atoms/Logout'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { logoutSuccess } from '../actions/auth'\nimport PropTypes from 'prop-types'\nimport sessionStorageItems from '../constants/sessionStorageItems'\n\nclass LogoutContainer extends React.Component {\n  state = {\n    redirectToLogin: false\n  }\n\n  handleLogout = () => {\n    sessionStorage.removeItem(sessionStorageItems.randomAvatarId)\n    sessionStorage.removeItem(sessionStorageItems.userToken)\n    this.props.logoutSuccess()\n\n    this.setState({\n      redirectToLogin: true\n    })\n  }\n\n  render() {\n    const { redirectToLogin } = this.state\n\n    return (\n      <React.Fragment>\n        {redirectToLogin ? (\n          <Redirect to=\"/login\" />\n        ) : (\n          <Logout handleLogout={this.handleLogout} />\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\nLogoutContainer.propTypes = {\n  logoutSuccess: PropTypes.func.isRequired\n}\n\nconst mapDispatchToProps = dispatch => ({\n  logoutSuccess: () => dispatch(logoutSuccess())\n})\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(LogoutContainer)\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,aAAa,IAAbA,cAAa,QAAQ,iBAAiB;AAC/C,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,mBAAmB,MAAM,kCAAkC;AAAA,IAE5DC,eAAe;EAAA;EAAA;EAAA;IAAA;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA,MACnBC,KAAK,GAAG;MACNC,eAAe,EAAE;IACnB,CAAC;IAAA,MAEDC,YAAY,GAAG,YAAM;MACnBC,cAAc,CAACC,UAAU,CAACN,mBAAmB,CAACO,cAAc,CAAC;MAC7DF,cAAc,CAACC,UAAU,CAACN,mBAAmB,CAACQ,SAAS,CAAC;MACxD,MAAKC,KAAK,CAACX,aAAa,EAAE;MAE1B,MAAKY,QAAQ,CAAC;QACZP,eAAe,EAAE;MACnB,CAAC,CAAC;IACJ,CAAC;IAAA;EAAA;EAAA;IAAA;IAAA,OAED,kBAAS;MACP,IAAQA,eAAe,GAAK,IAAI,CAACD,KAAK,CAA9BC,eAAe;MAEvB,oBACE,oBAAC,KAAK,CAAC,QAAQ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACZA,eAAe,gBACd,oBAAC,QAAQ;QAAC,EAAE,EAAC,QAAQ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG,gBAExB,oBAAC,MAAM;QAAC,YAAY,EAAE,IAAI,CAACC,YAAa;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACzC,CACc;IAErB;EAAC;EAAA;AAAA,EA3B2BV,KAAK,CAACiB,SAAS;AA8B7CV,eAAe,CAACW,SAAS,GAAG;EAC1Bd,aAAa,EAAEC,SAAS,CAACc,IAAI,CAACC;AAChC,CAAC;AAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,CAAGC,QAAQ;EAAA,OAAK;IACtClB,aAAa,EAAE;MAAA,OAAMkB,QAAQ,CAAClB,cAAa,EAAE,CAAC;IAAA;EAChD,CAAC;AAAA,CAAC;AAEF,eAAeD,OAAO,CACpB,IAAI,EACJkB,kBAAkB,CACnB,CAACd,eAAe,CAAC"},"metadata":{},"sourceType":"module"}