{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _this = this,\n  _jsxFileName = \"/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/atomic/organisms/ChatMessages.js\",\n  _templateObject,\n  _templateObject2,\n  _templateObject3,\n  _templateObject4,\n  _templateObject5;\nimport React from 'react';\nimport styled from 'styled-components';\nimport ChatConversationHeading from '../molecules/ChatConversationHeading';\nimport { ActionCable } from 'react-actioncable-provider';\nimport ChatBubble from '../molecules/ChatBubble';\nimport ChatInput from '../molecules/ChatInput';\nimport ReturnButton from '../molecules/ReturnButton';\nimport { breakpoints } from '../../constants/responsive';\nimport Loader from '../atoms/Loader';\nimport { withI18n } from '@lingui/react';\nvar ChatMessages = function ChatMessages(_ref) {\n  var conversation = _ref.conversation,\n    loadingMessages = _ref.loadingMessages,\n    newMessage = _ref.newMessage,\n    handleTypeMessage = _ref.handleTypeMessage,\n    handleSendMessage = _ref.handleSendMessage,\n    handleReceiveMessage = _ref.handleReceiveMessage,\n    handleChatBottomRef = _ref.handleChatBottomRef,\n    handleReturn = _ref.handleReturn,\n    handleShowPartnerProfile = _ref.handleShowPartnerProfile,\n    i18n = _ref.i18n;\n  if (loadingMessages) return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }));\n  return conversation && /*#__PURE__*/React.createElement(Wrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledReturnButton, {\n    mainAction: {\n      text: i18n._(\n      /*i18n*/\n      {\n        id: \"Return\"\n      }),\n      handler: handleReturn\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ChatConversationHeading, {\n    name: conversation.partner_name,\n    picture: conversation.partner_pic,\n    description: conversation.partner_description,\n    big: true,\n    showTrash: false,\n    handleShowPartnerProfile: handleShowPartnerProfile(conversation.partner_profile),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Messages, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(OverflowWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, conversation.messages.map(function (_ref2, i) {\n    var content = _ref2.content,\n      created_at = _ref2.created_at,\n      sender_user_id = _ref2.sender_user_id;\n    return /*#__PURE__*/React.createElement(ChatBubble, {\n      key: i,\n      content: content,\n      time: created_at,\n      fromMe: conversation.owner_user_id === sender_user_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: handleChatBottomRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ChatInput, {\n    newMessage: newMessage,\n    handleTypeMessage: handleTypeMessage,\n    handleSendMessage: handleSendMessage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ActionCable, {\n    channel: {\n      channel: 'ChatMessagesChannel',\n      conversation_id: conversation.id\n    },\n    onReceived: handleReceiveMessage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }));\n};\nvar Wrapper = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  padding-left: 2.4rem;\\n  padding-top: 5rem;\\n  flex: 1;\\n  height: calc(100vh - 8.1rem);\\n\\n  @media (min-width: \", \") {\\n    height: auto;\\n  }\\n\"])), breakpoints.sm);\nvar Messages = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-end;\\n  border-top: 1px solid #c4c4c4;\\n  margin-top: 2.4rem;\\n  padding-right: 1.2rem;\\n  overflow-y: auto;\\n\"])));\nvar StyledReturnButton = styled(ReturnButton)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  @media (min-width: \", \") {\\n    display: none;\\n  }\\n\"])), breakpoints.sm);\nvar OverflowWrapper = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  height: 395px;\\n\"])));\nvar BottomRef = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\"])));\nexport default withI18n()(ChatMessages);","map":{"version":3,"names":["React","styled","ChatConversationHeading","ActionCable","ChatBubble","ChatInput","ReturnButton","breakpoints","Loader","withI18n","ChatMessages","conversation","loadingMessages","newMessage","handleTypeMessage","handleSendMessage","handleReceiveMessage","handleChatBottomRef","handleReturn","handleShowPartnerProfile","i18n","text","_","handler","partner_name","partner_pic","partner_description","partner_profile","messages","map","i","content","created_at","sender_user_id","owner_user_id","channel","conversation_id","id","Wrapper","div","sm","Messages","StyledReturnButton","OverflowWrapper","BottomRef"],"sources":["/home/zakaisoftstudios/Desktop/railsprojects/pimenta-group/pimenta-group-nextstep_frontend_react-28a5c2a2a4fe/src/atomic/organisms/ChatMessages.js"],"sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport ChatConversationHeading from '../molecules/ChatConversationHeading'\nimport { ActionCable } from 'react-actioncable-provider'\nimport ChatBubble from '../molecules/ChatBubble'\nimport ChatInput from '../molecules/ChatInput'\nimport ReturnButton from '../molecules/ReturnButton'\nimport { breakpoints } from '../../constants/responsive'\nimport Loader from '../atoms/Loader'\nimport { t } from '@lingui/macro'\nimport { withI18n } from '@lingui/react'\n\nconst ChatMessages = ({\n  conversation,\n  loadingMessages,\n  newMessage,\n  handleTypeMessage,\n  handleSendMessage,\n  handleReceiveMessage,\n  handleChatBottomRef,\n  handleReturn,\n  handleShowPartnerProfile,\n  i18n\n}) => {\n  if (loadingMessages)\n    return (\n      <Wrapper>\n        <Loader />\n      </Wrapper>\n    )\n\n  return (\n    conversation && (\n      <Wrapper>\n        <StyledReturnButton\n          mainAction={{ text: i18n._(t`Return`), handler: handleReturn }}\n        />\n        <ChatConversationHeading\n          name={conversation.partner_name}\n          picture={conversation.partner_pic}\n          description={conversation.partner_description}\n          big\n          showTrash={false}\n          handleShowPartnerProfile={handleShowPartnerProfile(\n            conversation.partner_profile\n          )}\n        />\n\n        <Messages>\n          <OverflowWrapper>\n            {conversation.messages.map(\n              ({ content, created_at, sender_user_id }, i) => (\n                <ChatBubble\n                  key={i}\n                  content={content}\n                  time={created_at}\n                  fromMe={conversation.owner_user_id === sender_user_id}\n                />\n              )\n            )}\n\n            <div ref={handleChatBottomRef} />\n          </OverflowWrapper>\n        </Messages>\n\n        <ChatInput\n          newMessage={newMessage}\n          handleTypeMessage={handleTypeMessage}\n          handleSendMessage={handleSendMessage}\n        />\n\n        <ActionCable\n          channel={{\n            channel: 'ChatMessagesChannel',\n            conversation_id: conversation.id\n          }}\n          onReceived={handleReceiveMessage}\n        />\n      </Wrapper>\n    )\n  )\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-left: 2.4rem;\n  padding-top: 5rem;\n  flex: 1;\n  height: calc(100vh - 8.1rem);\n\n  @media (min-width: ${breakpoints.sm}) {\n    height: auto;\n  }\n`\n\nconst Messages = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  border-top: 1px solid #c4c4c4;\n  margin-top: 2.4rem;\n  padding-right: 1.2rem;\n  overflow-y: auto;\n`\n\nconst StyledReturnButton = styled(ReturnButton)`\n  @media (min-width: ${breakpoints.sm}) {\n    display: none;\n  }\n`\n\nconst OverflowWrapper = styled.div`\n  height: 395px;\n`\n\nconst BottomRef = styled.div``\n\nexport default withI18n()(ChatMessages)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}