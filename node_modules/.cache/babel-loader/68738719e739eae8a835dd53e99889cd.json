{"ast":null,"code":"var assert = require('./assert');\nvar isTypeName = require('./isTypeName');\nvar forbidNewOperator = require('./forbidNewOperator');\nvar isNumber = require('./isNumber');\nvar isString = require('./isString');\nvar isObject = require('./isObject');\nfunction getDefaultName(map) {\n  return Object.keys(map).map(function (k) {\n    return assert.stringify(k);\n  }).join(' | ');\n}\nfunction enums(map, name) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(isObject(map), function () {\n      return 'Invalid argument map ' + assert.stringify(map) + ' supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)';\n    });\n    assert(isTypeName(name), function () {\n      return 'Invalid argument name ' + assert.stringify(name) + ' supplied to enums(map, [name]) combinator (expected a string)';\n    });\n  }\n  var displayName = name || getDefaultName(map);\n  function Enums(value, path) {\n    if (process.env.NODE_ENV !== 'production') {\n      forbidNewOperator(this, Enums);\n      path = path || [displayName];\n      assert(Enums.is(value), function () {\n        return 'Invalid value ' + assert.stringify(value) + ' supplied to ' + path.join('/') + ' (expected one of ' + assert.stringify(Object.keys(map)) + ')';\n      });\n    }\n    return value;\n  }\n  Enums.meta = {\n    kind: 'enums',\n    map: map,\n    name: name,\n    identity: true\n  };\n  Enums.displayName = displayName;\n  Enums.is = function (x) {\n    return (isString(x) || isNumber(x)) && map.hasOwnProperty(x);\n  };\n  return Enums;\n}\nenums.of = function (keys, name) {\n  keys = isString(keys) ? keys.split(' ') : keys;\n  var value = {};\n  keys.forEach(function (k) {\n    value[k] = k;\n  });\n  return enums(value, name);\n};\nenums.getDefaultName = getDefaultName;\nmodule.exports = enums;","map":null,"metadata":{},"sourceType":"script"}